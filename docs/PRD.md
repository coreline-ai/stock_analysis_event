# DEEPSTOCK Research-Only 전환 PRD
## Signal & Timing Engine 제품 요구사항 문서

---

## 0. 문서의 목적

본 문서는  
**DEEPSTOCK 리팩토링 기획서**를 기반으로 작성된  
**제품 요구사항 문서(Product Requirements Document, PRD)**이다.

이 문서는 다음 질문에 답한다:

- 리팩토링 이후 DEEPSTOCK는 사용자에게 무엇을 제공해야 하는가
- 어떤 기능이 반드시 있어야 하는가
- 어떤 기능은 범위에서 제외되는가

구현 방식, 기술 스택, 코드 구조는  
이 문서의 범위가 아니며 TRD에서 다룬다.

---

## 1. 제품 개요

### 1.1 제품 정의

DEEPSTOCK Research-Only 버전은  
**실제 매매를 수행하지 않는 시장 시점 판단 및 리서치 엔진**이다.

본 제품은 사용자가 다음 질문에 답을 얻도록 돕는다:

- 지금 이 종목은 진입을 고려할 시점인가?
- 왜 지금인가?
- 어떤 리스크와 전제가 존재하는가?

---

### 1.2 제품 정체성

- 자동 매매 봇 ❌
- 포트폴리오 관리 도구 ❌
- 가격 체결 시스템 ❌

- 시그널 기반 리서치 엔진 ✅
- 시장 타이밍 판단 시스템 ✅
- 의사결정 보조 도구 ✅

---

## 2. 핵심 사용자 및 사용 시나리오

### 2.1 대상 사용자

- 개인 트레이더
- 퀀트/리서처
- 시장 분석가
- 자동 매매 이전 단계의 실험 사용자

---

### 2.2 핵심 사용 시나리오

1. 사용자는 시스템이 주기적으로 생성한 분석 결과를 확인한다
2. “BUY_NOW” 판단이 내려진 종목을 우선 검토한다
3. 각 판단에 대해:
   - 근거
   - 리스크
   - 신뢰도
   - 전제 조건
   을 확인한다
4. 실제 매매 여부는 **사용자가 직접 결정**한다

---

## 3. 핵심 기능 요구사항

### 3.1 시그널 수집

- 공개 소셜 및 뉴스 소스로부터 시장 관련 데이터 수집
- 초기 버전은 외부 API 키 없이 동작해야 한다
- 수집된 원문 데이터는 재현 가능하도록 저장되어야 한다

---

### 3.2 시그널 정규화 및 스코어링

- 수집된 데이터는 종목(symbol) 단위로 정규화된다
- 중복 제거 및 시간 기준 정렬을 수행한다
- 다음 요소를 반영한 점수를 계산한다:
  - 감성
  - 신선도
  - 소스 가중치
- 스코어 결과는 이후 판단 단계의 입력으로 사용된다

---

### 3.3 시점 판단 (Decision Engine) — 핵심 기능

시스템은 각 종목에 대해 다음 중 하나의 판단을 생성해야 한다:

- BUY_NOW
- WATCH
- AVOID

각 판단은 반드시 다음 정보를 포함해야 한다:

- 판단 결과
- 신뢰도(confidence)
- 시간 관점(time horizon)
- 판단 요약(thesis)
- 진입 전제 조건
- 리스크 및 무효화 조건

이 판단은 **실제 주문을 유발하지 않는다**.

---

### 3.4 LLM 기반 리서치 생성

- 상위 시그널에 대해서만 LLM 분석을 수행한다
- LLM 출력은 구조화된 스키마를 따라야 한다
- 판단의 근거는 사람이 읽을 수 있는 형태여야 한다

---

### 3.5 리포트 생성

- 시스템은 하루 단위로 데일리 리포트를 생성한다
- 리포트에는 다음이 포함된다:
  - 주요 BUY_NOW 종목
  - 주목할 WATCH 종목
  - 주요 테마 요약
  - 공통 리스크 요인

---

### 3.6 대시보드 및 조회 API

사용자는 다음 정보를 조회할 수 있어야 한다:

- 최신 판단 결과 목록
- 종목별 히스토리 판단
- 데일리 리포트
- 최근 실행 상태

---

## 4. 비기능 요구사항

### 4.1 안전성

- 어떤 조건에서도 실제 매매가 실행되어서는 안 된다
- 브로커 연동 및 주문 실행 기능은 제공하지 않는다

---

### 4.2 재현성

- 모든 판단은 사용된 입력 시그널과 연결되어야 한다
- 과거 판단을 다시 검토할 수 있어야 한다

---

### 4.3 비용 통제

- LLM 분석은 상위 시그널로 제한된다
- 하루 또는 실행 단위 비용 상한이 존재해야 한다

---

### 4.4 중복 실행 방지

- 동일한 시점에 파이프라인이 중복 실행되지 않아야 한다
- 실행 이력은 기록되어야 한다

---

## 5. 범위 외 항목 (Explicitly Out of Scope)

다음 항목은 본 PRD의 범위에 포함되지 않는다:

- 실제 주문 실행
- 브로커 계정 연동
- 잔고/포지션 관리
- 실시간 체결 가격 추적
- 자동 포트폴리오 운용

---

## 6. 성공 기준 (Success Criteria)

본 제품은 다음 조건을 만족할 때 성공으로 간주한다:

- BUY_NOW 판단이 명확한 근거와 함께 제공된다
- 사용자가 “왜 지금인가”를 이해할 수 있다
- 실제 매매 리스크 없이 반복 실행 및 실험이 가능하다
- 시스템의 판단 이력이 축적되고 비교 가능하다

---

## 7. 문서 간 관계

- 리팩토링 기획서: 방향과 의도
- 본 PRD: 제공 기능과 범위
- TRD: 기술 설계 및 구현 방법
- 개발 계획: 일정 및 작업 단위

본 PRD는 이후 모든 기술/개발 문서의 기준이 된다.

